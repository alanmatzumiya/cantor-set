<!DOCTYPE HTML>
<html>
<head>
	<title></title>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	
</head>
<body>
	<script>

   

   
   var margin = {"left":0, "right":0 ,"top":10, "bottom":0}
   var height = 900 - margin.top - margin.bottom;
   var width  = 500 - margin.left- margin.right; 
   var xScale = d3.scale.linear().domain([0,600]).range([margin.left,width]);
   var yScale = d3.scale.linear().domain([0,600]).range([height, margin.top]);


   var zoom = d3.behavior.zoom()
                  .x(xScale)
                  .y(yScale)
                  .scaleExtent([1,10])
                  .on("zoom",zoomed);

   var svg = d3.select("body").append("svg")
   .attr(
   {
      "width":  width + margin.left + margin.right,
      "height": height + margin.top + margin.bottom
   })
   .append("g")
      .attr(
      {
         "transform":"translate(" + margin.left + "," + margin.top + ")"
      })
      .call(zoom);

   var lineGenerator = d3.svg.line()
                        .x(function(d){return d.x;})
                        .y(function(d){return d.y;})
                        .interpolate("linear");

   var xAxis = d3.svg.axis().scale(xScale).orient("top");
   var yAxis = d3.svg.axis().scale(yScale).orient("left");                         

   

   function zoomed()
   {
      svg.select(".x.axis").call(xAxis);
      svg.select(".y.axis").call(yAxis);
   }                                          
   function cantorSet(level, left, right,height)
   {

      var coordinates = [{"x":xScale(left),  "y":10 * height},
                         {"x":xScale(right), "y":10 * height}];
      
      var line = svg.append("path")
                     .attr(
                        {
                           "d":lineGenerator(coordinates),
                           "stroke":"black",
                           "stroke-width":1,
                           "fill":"none",
                           "shape-rendering":"crispEdges"
                        });

      var length = 1/3 * Math.abs(left-right)      

      if (level != 0)
      {
         // Draw the left hand side of the level
         cantorSet(level - 1, left, left + length, height + 1);
         // Draw the right hand side of the level
         cantorSet(level - 1, right - length, right, height + 1)   
      }
   }

   // Eleven
   cantorSet(11,0,600,0);

	</script>
</body>
</html>